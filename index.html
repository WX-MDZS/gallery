/* ==== Grid（PCは常に4固定。スマホ/タブレットだけ列数調整） ==== */
.gallery{
  width:min(1100px,96vw);
  margin:0 auto;
  display:grid;
  grid-template-columns: repeat(4, var(--card-w)); /* 常に4列 */
  justify-content:center;
  column-gap: var(--gap-x);
  row-gap: var(--gap-y);
  /* 4列ぶんの最小幅を要求。PCで窓を狭めても横スクロールで4列維持 */
  min-width: calc(var(--card-w) * 4 + var(--gap-x) * 3);
  overflow-x:auto;
}

/* タブレット/スマホ（タッチデバイス）だけ列数を落とす */
@media (any-pointer: coarse) and (min-width: 720px){
  .gallery{ grid-template-columns: repeat(3, var(--card-w)); min-width: 0; }
}
@media (any-pointer: coarse) and (max-width: 719px){
  .gallery{ grid-template-columns: repeat(2, var(--card-w)); min-width: 0; }
}
