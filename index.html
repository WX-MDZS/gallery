<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>企画参加者の作品一覧</title>
<style>
:root{
  --bg:#fff;--text:#222;--muted:#666;--ring:#e5e7eb;
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto}
header{text-align:center;padding:2rem 1rem 1rem}
header h1{margin:0 0 .4rem;font-size:clamp(1.2rem,2.6vw,1.7rem)}
header p{margin:.2rem 0 0;color:var(--muted)}

.wrap{
  max-width:1100px;
  margin:0 auto;
  padding:0 1rem 2rem;
}
.gallery{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:1.5rem;
}
.card{
  position:relative;
  text-align:center;
  padding:1rem .5rem;
  border:1px solid var(--ring);
  border-radius:14px;
  background:#fff;
  transition:transform .18s, box-shadow .18s, border-color .18s;
}
.card:hover,
.card:focus-within{
  transform:translateY(-3px);
  box-shadow:0 10px 24px rgba(0,0,0,.08);
}

.icon-wrap{
  position:relative;
  display:inline-block;
}
.icon{
  width:96px;height:96px;
  border-radius:50%;
  object-fit:cover;
  background:#f3f4f6;
  display:block;
  margin:0 auto .6rem;
  transition:transform .18s, box-shadow .18s, filter .18s;
  box-shadow:0 2px 8px rgba(0,0,0,.06);
}
.card:hover .icon,
.card:focus-within .icon{
  transform:scale(1.04);
  box-shadow:0 12px 28px rgba(0,0,0,.12);
}

.name{
  font-size:.9rem;
  margin:.25rem 0 .4rem;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.btn{
  display:inline-block;
  font-size:.78rem;
  padding:.35rem .6rem;
  border-radius:999px;
  border:1px solid var(--ring);
  text-decoration:none;
  background:#8fbafc;
  color:#fff;
  margin:0 .25rem;
}
.btn:hover{
  background:#eef2ff;
  border-color:#c7d2fe;
  color:#2563eb;
}

.pop{
  position:absolute;
  left:50%;
  top:calc(100% + 4px);
  transform:translateX(-50%) scale(.98);
  opacity:0;
  pointer-events:none;
  background:#fff;
  padding:.4rem .8rem;
  border:1px solid var(--ring);
  border-radius:8px;
  box-shadow:0 4px 12px rgba(0,0,0,.08);
  transition:opacity .18s, transform .18s;
  z-index:10;
}
.card:hover .pop,
.card.pop-open .pop{
  opacity:1;
  pointer-events:auto;
  transform:translateX(-50%) scale(1);
}
.pop a{
  margin:0 .25rem;
}
</style>
</head>
<body>
<header>
  <h1>企画参加者の作品一覧</h1>
  <p>アイコンでTwitterへ／「作品へ」「感想へ」で各ページへ</p>
</header>
<div class="wrap">
  <div class="gallery" id="gallery"></div>
</div>

<script>
const data = [
  // iconファイル名, 名前, twitter, work, feedback
  ["icon1.png","HellingLaozu","https://twitter.com/...","https://work1","https://feedback1"],
  ["icon2.png","kikuchi","https://twitter.com/...","https://work2","https://feedback2"],
  // ここにCSV変換した配列を入れる
];

function createCard([icon,name,twitter,work,feedback]){
  const card=document.createElement("div");
  card.className="card";

  const wrap=document.createElement("div");
  wrap.className="icon-wrap";

  const aTw=document.createElement("a");
  aTw.href=twitter||"#";
  aTw.target="_blank";
  aTw.rel="noopener";

  const img=document.createElement("img");
  img.className="icon";
  img.src=`./icons/${icon}`;
  img.alt=name||"icon";

  aTw.appendChild(img);
  wrap.appendChild(aTw);

  const pop=document.createElement("div");
  pop.className="pop";
  const aWork=document.createElement("a");
  aWork.href=work||"#";
  aWork.textContent="作品へ";
  aWork.className="btn";
  aWork.target="_blank";
  aWork.rel="noopener";
  const aFb=document.createElement("a");
  aFb.href=feedback||"#";
  aFb.textContent="感想へ";
  aFb.className="btn";
  aFb.target="_blank";
  aFb.rel="noopener";
  pop.appendChild(aWork);
  pop.appendChild(aFb);

  wrap.appendChild(pop);
  card.appendChild(wrap);

  const nameEl=document.createElement("div");
  nameEl.className="name";
  nameEl.textContent=name||"";
  card.appendChild(nameEl);

  card.addEventListener("touchstart",ev=>{
    if(!card.classList.contains("pop-open")){
      card.classList.add("pop-open");
      setTimeout(()=>document.addEventListener("touchstart",e=>{
        if(!card.contains(e.target)) card.classList.remove("pop-open");
      },{once:true}),0);
      ev.preventDefault();
    }
  },{passive:false});

  return card;
}

const gallery=document.getElementById("gallery");
data.forEach(item=>gallery.appendChild(createCard(item)));
</script>
</body>
</html>
